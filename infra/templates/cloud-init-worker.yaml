#cloud-config
package_update: true
package_upgrade: true

write_files:
  - path: /etc/network/interfaces.d/60-floating-ip.cfg
    content: |
      auto eth0:1
      iface eth0:1 inet static
        address ${floating_ip}
        netmask 32
  - path: /etc/systemd/system/kubelet.service.d/20-hetzner-cloud.conf
    content: |
      [Service]
      Environment="KUBELET_EXTRA_ARGS=--cloud-provider=external"
